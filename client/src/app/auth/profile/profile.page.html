<ion-header>
  <ion-toolbar>
    <ion-title>My Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-sm="6" offset-sm="3">
        <ion-list>
          <ion-item>
            <ion-input
              #username
              type="text"
              disabled>{{ user.username }}</ion-input>
            <ion-buttons slot="end">
              <ion-button (click)="enableInput('username', $event)">
                <ion-icon name="pencil-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-item>
          <ion-item>
            <ion-input
              #email
              type="text"
              disabled>{{ user.email }}</ion-input>
            <ion-buttons slot="end">
              <ion-button (click)="enableInput('email', $event)">
                <ion-icon name="pencil-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-item>
          <ion-item>
            <ion-input
              #phone
              type="text"
              disabled>{{ user.phone }}</ion-input>
            <ion-buttons slot="end">
              <ion-button (click)="enableInput('phone', $event)">
                <ion-icon name="pencil-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-item>
          <ion-item>
            <ion-label>Contact Me By</ion-label>
            <ion-select [value]="user.preferred_contact_mode">
              <ion-select-option value="email">Email</ion-select-option>
              <ion-select-option value="phone">Phone</ion-select-option>
              <ion-select-option value="both">Phone and Email</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-list>

      </ion-col>
    </ion-row>

    <ion-title>My Groups</ion-title>

    <ion-row *ngFor="let group of user.groups">
      <ion-col size="12" size-sm="6" offset-sm="3">
        <!-- <ion-list> -->
        <ion-item-sliding #slidingItem>
          <ion-item>
            <ion-label>
              {{ group.name }} - {{ group.description }}
            </ion-label>
          </ion-item>
          <ion-item-options>
            <ion-item-option
              color="danger"
              (click)="onLeaveGroup(group.id, slidingItem)">
              Leave
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
        <!-- </ion-list> -->
      </ion-col>
    </ion-row>

  </ion-grid>
</ion-content>