<form [formGroup]="itemsForm">

  <div *ngFor="let item of items"
    [formGroupName]="item.name"
    class="ion-margin-bottom item">
    <ion-row>
      <ion-col size="10">
        <ion-input
          class="ion-no-padding"
          type="text"
          formControlName="name"></ion-input>
      </ion-col>
      <ion-col size="2" class="ion-text-right">
        <ion-col size="1">
          <ion-icon name="trash-outline" (click)="onDeleteItem(item.id)"></ion-icon>
        </ion-col>
      </ion-col>
    </ion-row>

    <ion-row class="ion-align-items-baseline">
      <ion-col size="3" class="ion-text-left">
        <ion-select
          class="ion-no-padding"
          okText="OK"
          formControlName="currency"
          cancelText="Cancel">
          <ion-select-option value="eur">EUR</ion-select-option>
          <ion-select-option value="rup">RUP</ion-select-option>
          <ion-select-option value="usd">USD</ion-select-option>
        </ion-select>
      </ion-col>
      <ion-col size="4" class="ion-text-left">
        <ion-input
          formControlName="price"
          type="number"></ion-input>
      </ion-col>
      <ion-col size="3" class="ion-text-right">
        <ion-label>Available:</ion-label>
      </ion-col>
      <ion-col size="2">
        <ion-input
          formControlName="amount"
          type="number"></ion-input>
      </ion-col>
    </ion-row>
  </div>

  <ion-grid>
    <ion-row>
      <ion-col size="12" size-sm="6" offset-sm="3" class="ion-text-center">
        <ion-button
          color="primary"
          (click)="onCreateNewProduct()">
          <ion-icon name="add-outline"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <hr>
      </ion-col>
    </ion-row>

    <ion-row formGroupName="deadline">
      <ion-col size="12" class="ion-text-center">
        <ion-datetime
          placeholder="Select deadline date"
          display-format="D MMM YYYY H:mm"
          picker-format="D MMM YYYY H:mm"
          formControlName="deadlineDate"></ion-datetime>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <hr>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="6" class="ion-text-right">
        <ion-button
          color="secondary"
          type="button"
          (click)="onCancel()">Cancel</ion-button>
      </ion-col>
      <ion-col size="6" class="ion-text-left">
        <ion-button
          class="save"
          color="primary"
          type="button"
          disabled="{{ items.length < 1 }}"
          (click)="onSaveChanges()">Save</ion-button>
      </ion-col>

    </ion-row>

  </ion-grid>
</form>