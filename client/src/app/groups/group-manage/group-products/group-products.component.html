<form [formGroup]="itemsForm">
  <ion-grid>
    <ion-row *ngFor="let item of items"
      [formGroupName]="item.name">
      <ion-col size="12" size-sm="6" offset-sm="3">
        <ion-item>
          <ion-input
            type="text"
            formControlName="name"></ion-input>
          <ion-input
            type="text"
            formControlName="currency"></ion-input>
          <ion-input
            type="number"
            formControlName="price"></ion-input>
          <ion-input
            type="number"
            formControlName="amount"></ion-input>
        </ion-item>
        <ion-icon name="trash-outline" (click)="onDeleteItem(item.id)"></ion-icon>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="12" size-sm="6" offset-sm="3">
        <ion-button (click)="onCreateNewProduct()">Add New Item</ion-button>
      </ion-col>
    </ion-row>

    <ion-row formGroupName="deadline">
      <ion-col>
        <ion-datetime
          placeholder="Select deadline date"
          display-format="D MMM YYYY H:mm"
          picker-format="D MMM YYYY H:mm"
          formControlName="deadlineDate"></ion-datetime>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="12" size-sm="6" offset-sm="3">
        <ion-button
          color="secondary"
          type="button"
          (click)="onCancel()">Cancel</ion-button>
        <ion-button
          color="primary"
          type="button"
          disabled="{{ items.length < 1 }}"
          (click)="onSaveChanges()">Save</ion-button>
        <ion-button
          color="primary"
          type="button"
          (click)="onSaveChangesAndInform()">Save and Inform</ion-button>
      </ion-col>
    </ion-row>

  </ion-grid>
</form>